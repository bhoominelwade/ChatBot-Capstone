{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Ammar Abdulhussain\\\\Desktop\\\\phullstack\\\\src\\\\admin\\\\AdminDashboard.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useRef, useEffect } from \"react\";\nimport axios from \"axios\";\nimport { useNavigate } from 'react-router-dom';\nimport { Upload, Bell, BarChart2, MessageSquare, MoreVertical, FileText, FileSpreadsheet, File, FileType, Image, LogOut, Trash2, Download } from \"lucide-react\";\nimport \"./AdminDashboard.css\";\nimport { useAuth } from '../AuthContext';\nimport { db } from '../firebase-config'; // Make sure this import points to your Firebase config\nimport { collection, doc, setDoc, getDoc, getDocs, query, orderBy, limit, serverTimestamp } from 'firebase/firestore';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function AdminDashboard() {\n  _s();\n  var _sessionData$loginTim;\n  // State management\n  const [activeTab, setActiveTab] = useState(\"Upload\");\n  const [announcement, setAnnouncement] = useState(\"\");\n  const [files, setFiles] = useState([]);\n  const [uploading, setUploading] = useState(false);\n  const [uploadError, setUploadError] = useState(null);\n  const [selectedRole, setSelectedRole] = useState(\"Students\");\n  const [sessionData, setSessionData] = useState(null);\n  const [lastActivity, setLastActivity] = useState(new Date());\n\n  // Refs\n  const fileInputRef = useRef(null);\n  const sessionTimeoutRef = useRef(null);\n\n  // Hooks\n  const navigate = useNavigate();\n  const {\n    user,\n    logout\n  } = useAuth();\n\n  // Constants\n  const SESSION_TIMEOUT = 30 * 60 * 1000; // 30 minutes\n  const MAX_FILES_HISTORY = 8;\n  const tabs = [{\n    name: \"Upload\",\n    icon: Upload\n  }, {\n    name: \"Announcements\",\n    icon: Bell\n  }, {\n    name: \"Stats\",\n    icon: BarChart2\n  }, {\n    name: \"Chatbot\",\n    icon: MessageSquare\n  }];\n\n  // Session Management Functions\n  const updateLastActivity = () => {\n    setLastActivity(new Date());\n    if (sessionTimeoutRef.current) {\n      clearTimeout(sessionTimeoutRef.current);\n    }\n    sessionTimeoutRef.current = setTimeout(handleSessionTimeout, SESSION_TIMEOUT);\n  };\n  const handleSessionTimeout = async () => {\n    await handleLogout();\n    navigate('/login', {\n      state: {\n        message: 'Session expired. Please login again.'\n      }\n    });\n  };\n  const initializeSession = async () => {\n    if (!(user !== null && user !== void 0 && user.uid)) return;\n    try {\n      const sessionRef = doc(db, 'sessions', user.uid);\n      const sessionDoc = await getDoc(sessionRef);\n      let currentSession = {\n        userId: user.uid,\n        role: user.role,\n        lastActivity: serverTimestamp(),\n        loginTime: serverTimestamp()\n      };\n      if (sessionDoc.exists()) {\n        currentSession = {\n          ...sessionDoc.data(),\n          lastActivity: serverTimestamp()\n        };\n      }\n      await setDoc(sessionRef, currentSession, {\n        merge: true\n      });\n      setSessionData(currentSession);\n      await loadUserFiles();\n    } catch (error) {\n      console.error('Error initializing session:', error);\n      setUploadError('Failed to initialize session');\n    }\n  };\n  const updateSession = async () => {\n    if (!(user !== null && user !== void 0 && user.uid)) return;\n    try {\n      const sessionRef = doc(db, 'sessions', user.uid);\n      await setDoc(sessionRef, {\n        lastActivity: serverTimestamp()\n      }, {\n        merge: true\n      });\n    } catch (error) {\n      console.error('Error updating session:', error);\n    }\n  };\n\n  // File Management Functions\n  const loadUserFiles = async () => {\n    if (!(user !== null && user !== void 0 && user.uid)) return;\n    try {\n      const filesRef = collection(db, 'users', user.uid, 'files');\n      const q = query(filesRef, orderBy('uploadedAt', 'desc'), limit(MAX_FILES_HISTORY));\n      const querySnapshot = await getDocs(q);\n      const loadedFiles = [];\n      querySnapshot.forEach(doc => {\n        loadedFiles.push({\n          id: doc.id,\n          ...doc.data()\n        });\n      });\n      setFiles(loadedFiles);\n    } catch (error) {\n      console.error('Error loading files:', error);\n      setUploadError('Failed to load files');\n    }\n  };\n  const storeFileUpload = async fileInfo => {\n    if (!(user !== null && user !== void 0 && user.uid)) return;\n    try {\n      const filesRef = collection(db, 'users', user.uid, 'files');\n      const newFileRef = doc(filesRef);\n      await setDoc(newFileRef, {\n        ...fileInfo,\n        uploadedAt: serverTimestamp(),\n        userId: user.uid\n      });\n    } catch (error) {\n      console.error('Error storing file upload:', error);\n      throw error;\n    }\n  };\n  const handleFileUpload = async e => {\n    const selectedFiles = Array.from(e.target.files);\n    setUploading(true);\n    setUploadError(null);\n    const formData = new FormData();\n    selectedFiles.forEach(file => {\n      formData.append(\"files\", file);\n    });\n    formData.append(\"role\", selectedRole.toLowerCase());\n    formData.append('isAnnouncement', 'false');\n    try {\n      const response = await axios.post(\"http://localhost:8000/upload/\", formData, {\n        headers: {\n          \"Content-Type\": \"multipart/form-data\"\n        }\n      });\n      const newFiles = selectedFiles.map(file => ({\n        name: file.name,\n        size: (file.size / 1024 / 1024).toFixed(2) + \" MB\",\n        uploaded: new Date().toLocaleDateString(),\n        icon: getFileIcon(file.name),\n        role: selectedRole,\n        isAnnouncement: false\n      }));\n\n      // Store each file upload\n      for (const fileInfo of newFiles) {\n        await storeFileUpload(fileInfo);\n      }\n      await loadUserFiles(); // Reload files to get the latest\n      updateLastActivity();\n      await updateSession();\n      console.log(\"Files uploaded successfully:\", response.data);\n    } catch (error) {\n      console.error(\"Error uploading file:\", error);\n      setUploadError(\"Failed to upload files. Please try again.\");\n    } finally {\n      setUploading(false);\n    }\n  };\n  const handleAnnouncementSubmit = async e => {\n    e.preventDefault();\n    if (!announcement.trim()) {\n      setUploadError(\"Please enter an announcement.\");\n      return;\n    }\n    setUploading(true);\n    setUploadError(null);\n    try {\n      const formData = new FormData();\n      const announcementBlob = new Blob([announcement], {\n        type: 'text/plain'\n      });\n      const textFile = new File([announcementBlob], 'announcement.txt', {\n        type: 'text/plain'\n      });\n      formData.append('files', textFile);\n      formData.append('role', selectedRole.toLowerCase());\n      formData.append('isAnnouncement', 'true');\n      const response = await axios.post(\"http://localhost:8000/upload/\", formData, {\n        headers: {\n          \"Content-Type\": \"multipart/form-data\"\n        }\n      });\n      const newFile = {\n        name: 'announcement.txt',\n        size: (announcement.length / 1024).toFixed(2) + \" KB\",\n        uploaded: new Date().toLocaleDateString(),\n        icon: FileText,\n        role: selectedRole,\n        isAnnouncement: true,\n        content: announcement\n      };\n      await storeFileUpload(newFile);\n      await loadUserFiles();\n      updateLastActivity();\n      await updateSession();\n      setAnnouncement(\"\");\n      console.log(\"Announcement submitted successfully:\", response.data);\n    } catch (error) {\n      console.error(\"Error uploading announcement:\", error);\n      setUploadError(\"Failed to upload announcement. Please try again.\");\n    } finally {\n      setUploading(false);\n    }\n  };\n  const handleDeleteFile = async fileId => {\n    try {\n      await db.collection('users').doc(user.uid).collection('files').doc(fileId).delete();\n      await loadUserFiles();\n      updateLastActivity();\n      await updateSession();\n    } catch (error) {\n      console.error('Error deleting file:', error);\n      setUploadError('Failed to delete file');\n    }\n  };\n  const handleLogout = async () => {\n    try {\n      if (user !== null && user !== void 0 && user.uid) {\n        const sessionRef = doc(db, 'sessions', user.uid);\n        await setDoc(sessionRef, {\n          logoutTime: serverTimestamp(),\n          active: false\n        }, {\n          merge: true\n        });\n      }\n      if (sessionTimeoutRef.current) {\n        clearTimeout(sessionTimeoutRef.current);\n      }\n      await logout();\n      navigate('/login', {\n        replace: true\n      });\n    } catch (error) {\n      console.error(\"Logout failed:\", error);\n      setUploadError(\"Logout failed. Please try again.\");\n    }\n  };\n  const getFileIcon = fileName => {\n    const ext = fileName.split('.').pop().toLowerCase();\n    switch (ext) {\n      case 'pdf':\n        return FileText;\n      case 'csv':\n      case 'xlsx':\n        return FileSpreadsheet;\n      case 'txt':\n        return FileText;\n      case 'docx':\n        return FileType;\n      case 'jpeg':\n      case 'jpg':\n      case 'png':\n        return Image;\n      default:\n        return File;\n    }\n  };\n\n  // Effect Hooks\n  useEffect(() => {\n    if (!user || (user === null || user === void 0 ? void 0 : user.role) !== 'admin') {\n      navigate('/login');\n    } else {\n      initializeSession();\n      updateLastActivity();\n    }\n    return () => {\n      if (sessionTimeoutRef.current) {\n        clearTimeout(sessionTimeoutRef.current);\n      }\n    };\n  }, [user, navigate]);\n  useEffect(() => {\n    const handleActivity = () => {\n      updateLastActivity();\n      updateSession();\n    };\n    window.addEventListener('mousemove', handleActivity);\n    window.addEventListener('keydown', handleActivity);\n    return () => {\n      window.removeEventListener('mousemove', handleActivity);\n      window.removeEventListener('keydown', handleActivity);\n    };\n  }, []);\n\n  // UI Render\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"app-container\",\n    children: [/*#__PURE__*/_jsxDEV(\"nav\", {\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"nav-content\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"nav-top\",\n          children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n            children: \"Nexus Control\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 354,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n            children: tabs.map(tab => /*#__PURE__*/_jsxDEV(\"li\", {\n              children: /*#__PURE__*/_jsxDEV(\"button\", {\n                className: activeTab === tab.name ? \"active\" : \"\",\n                onClick: () => setActiveTab(tab.name),\n                children: [/*#__PURE__*/_jsxDEV(tab.icon, {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 362,\n                  columnNumber: 21\n                }, this), tab.name]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 358,\n                columnNumber: 19\n              }, this)\n            }, tab.name, false, {\n              fileName: _jsxFileName,\n              lineNumber: 357,\n              columnNumber: 17\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 355,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 353,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"session-info\",\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            children: [\"Last activity: \", lastActivity.toLocaleTimeString()]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 370,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"logout-button\",\n            onClick: handleLogout,\n            disabled: uploading,\n            children: [/*#__PURE__*/_jsxDEV(LogOut, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 376,\n              columnNumber: 15\n            }, this), \"Logout\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 371,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 369,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 352,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 351,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"main\", {\n      className: \"main-layout\",\n      children: [(activeTab === \"Upload\" || activeTab === \"Announcements\") && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"dropdown-container\",\n        children: /*#__PURE__*/_jsxDEV(\"select\", {\n          id: \"userType\",\n          value: selectedRole,\n          onChange: e => setSelectedRole(e.target.value),\n          className: \"user-type-dropdown\",\n          children: [/*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"Students\",\n            children: \"Students\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 392,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"Teachers\",\n            children: \"Teachers\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 393,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"HOD/Dean\",\n            children: \"HOD/Dean\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 394,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 386,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 385,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"content-area\",\n        children: [activeTab === \"Upload\" && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"upload-section\",\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            children: \"Data Upload Interface\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 402,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"card\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"upload-area\",\n              children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                children: \"Initiate data transfer or select files for upload.\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 405,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"file-types\",\n                children: \"Supported file types: PDF, CSV, TXT, DOCX, XLSX, JPEG, JPG, PNG\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 406,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => fileInputRef.current.click(),\n                disabled: uploading,\n                children: uploading ? \"Uploading...\" : \"Upload Files\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 407,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"file\",\n                ref: fileInputRef,\n                className: \"hidden\",\n                onChange: handleFileUpload,\n                multiple: true,\n                accept: \".pdf,.csv,.txt,.docx,.xlsx,.jpeg,.jpg,.png\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 410,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 404,\n              columnNumber: 17\n            }, this), uploadError && /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"error-message\",\n              children: uploadError\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 420,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 403,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"card\",\n            children: /*#__PURE__*/_jsxDEV(\"table\", {\n              children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n                children: /*#__PURE__*/_jsxDEV(\"tr\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                    children: \"File\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 427,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                    children: \"Size\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 428,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                    children: \"Uploaded\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 429,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                    children: \"Role\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 430,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                    children: \"Actions\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 431,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 426,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 425,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n                children: files.map(file => /*#__PURE__*/_jsxDEV(\"tr\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                    children: /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"file-info\",\n                      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"file-icon\",\n                        children: file.icon && /*#__PURE__*/_jsxDEV(file.icon, {}, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 440,\n                          columnNumber: 45\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 439,\n                        columnNumber: 29\n                      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                        children: file.name\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 442,\n                        columnNumber: 29\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 438,\n                      columnNumber: 27\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 437,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    children: file.size\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 445,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    children: file.uploaded\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 446,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    children: file.role\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 447,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    children: /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"action-buttons\",\n                      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                        className: \"action-button\",\n                        onClick: () => handleDeleteFile(file.id),\n                        title: \"Delete\",\n                        children: /*#__PURE__*/_jsxDEV(Trash2, {\n                          size: 16\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 455,\n                          columnNumber: 31\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 450,\n                        columnNumber: 29\n                      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                        className: \"action-button\",\n                        title: \"Download\",\n                        children: /*#__PURE__*/_jsxDEV(Download, {\n                          size: 16\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 461,\n                          columnNumber: 31\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 457,\n                        columnNumber: 29\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 449,\n                      columnNumber: 27\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 448,\n                    columnNumber: 25\n                  }, this)]\n                }, file.id, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 436,\n                  columnNumber: 23\n                }, this))\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 434,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 424,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 423,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 401,\n          columnNumber: 13\n        }, this), activeTab === \"Announcements\" && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"announcements-section\",\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            children: \"Broadcast Announcements\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 475,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"card\",\n            children: [/*#__PURE__*/_jsxDEV(\"form\", {\n              onSubmit: handleAnnouncementSubmit,\n              children: [/*#__PURE__*/_jsxDEV(\"textarea\", {\n                value: announcement,\n                onChange: e => setAnnouncement(e.target.value),\n                placeholder: \"Type your announcement here...\",\n                className: \"announcement-textarea\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 478,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                type: \"submit\",\n                className: \"submit-announcement-button\",\n                disabled: uploading,\n                children: uploading ? \"Submitting...\" : \"Submit Announcement\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 484,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 477,\n              columnNumber: 17\n            }, this), uploadError && /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"error-message\",\n              children: uploadError\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 493,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 476,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 474,\n          columnNumber: 13\n        }, this), activeTab === \"Stats\" && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"stats-section\",\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            children: \"Analytics Dashboard\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 501,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"stats-grid\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"card\",\n              children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                children: \"File Statistics\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 504,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"stat-item\",\n                children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                  children: \"Total Files Uploaded\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 506,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"h4\", {\n                  children: files.length\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 507,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 505,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"stat-item\",\n                children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                  children: \"Storage Used\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 510,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"h4\", {\n                  children: [files.reduce((acc, file) => {\n                    return acc + parseFloat(file.size);\n                  }, 0).toFixed(2), \" MB\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 511,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 509,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 503,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"card\",\n              children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                children: \"User Activity\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 520,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"stat-item\",\n                children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                  children: \"Last Login\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 522,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"h4\", {\n                  children: sessionData === null || sessionData === void 0 ? void 0 : (_sessionData$loginTim = sessionData.loginTime) === null || _sessionData$loginTim === void 0 ? void 0 : _sessionData$loginTim.toDate().toLocaleDateString()\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 523,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 521,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"stat-item\",\n                children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                  children: \"Active Session Duration\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 526,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"h4\", {\n                  children: sessionData !== null && sessionData !== void 0 && sessionData.loginTime ? Math.floor((new Date() - sessionData.loginTime.toDate()) / (1000 * 60)) + \" minutes\" : \"N/A\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 527,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 525,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 519,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"card\",\n              children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                children: \"Distribution by Role\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 536,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"role-distribution\",\n                children: [\"Students\", \"Teachers\", \"HOD/Dean\"].map(role => /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"stat-item\",\n                  children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                    children: role\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 540,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"h4\", {\n                    children: files.filter(file => file.role === role).length\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 541,\n                    columnNumber: 25\n                  }, this)]\n                }, role, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 539,\n                  columnNumber: 23\n                }, this))\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 537,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 535,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 502,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 500,\n          columnNumber: 13\n        }, this), activeTab === \"Chatbot\" && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"chatbot-section\",\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            children: \"AI Assistant Configuration\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 554,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"card\",\n            children: /*#__PURE__*/_jsxDEV(\"p\", {\n              children: \"Chatbot configuration and analytics will be implemented in future updates.\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 556,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 555,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 553,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 399,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 383,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 350,\n    columnNumber: 5\n  }, this);\n}\n_s(AdminDashboard, \"nNqJOcX/4dsINl7xPonLe1VA7Co=\", false, function () {\n  return [useNavigate, useAuth];\n});\n_c = AdminDashboard;\nvar _c;\n$RefreshReg$(_c, \"AdminDashboard\");","map":{"version":3,"names":["React","useState","useRef","useEffect","axios","useNavigate","Upload","Bell","BarChart2","MessageSquare","MoreVertical","FileText","FileSpreadsheet","File","FileType","Image","LogOut","Trash2","Download","useAuth","db","collection","doc","setDoc","getDoc","getDocs","query","orderBy","limit","serverTimestamp","jsxDEV","_jsxDEV","AdminDashboard","_s","_sessionData$loginTim","activeTab","setActiveTab","announcement","setAnnouncement","files","setFiles","uploading","setUploading","uploadError","setUploadError","selectedRole","setSelectedRole","sessionData","setSessionData","lastActivity","setLastActivity","Date","fileInputRef","sessionTimeoutRef","navigate","user","logout","SESSION_TIMEOUT","MAX_FILES_HISTORY","tabs","name","icon","updateLastActivity","current","clearTimeout","setTimeout","handleSessionTimeout","handleLogout","state","message","initializeSession","uid","sessionRef","sessionDoc","currentSession","userId","role","loginTime","exists","data","merge","loadUserFiles","error","console","updateSession","filesRef","q","querySnapshot","loadedFiles","forEach","push","id","storeFileUpload","fileInfo","newFileRef","uploadedAt","handleFileUpload","e","selectedFiles","Array","from","target","formData","FormData","file","append","toLowerCase","response","post","headers","newFiles","map","size","toFixed","uploaded","toLocaleDateString","getFileIcon","isAnnouncement","log","handleAnnouncementSubmit","preventDefault","trim","announcementBlob","Blob","type","textFile","newFile","length","content","handleDeleteFile","fileId","delete","logoutTime","active","replace","fileName","ext","split","pop","handleActivity","window","addEventListener","removeEventListener","className","children","_jsxFileName","lineNumber","columnNumber","tab","onClick","toLocaleTimeString","disabled","value","onChange","click","ref","multiple","accept","title","onSubmit","placeholder","reduce","acc","parseFloat","toDate","Math","floor","filter","_c","$RefreshReg$"],"sources":["C:/Users/Ammar Abdulhussain/Desktop/phullstack/src/admin/AdminDashboard.jsx"],"sourcesContent":["import React, { useState, useRef, useEffect } from \"react\";\r\nimport axios from \"axios\";\r\nimport { useNavigate } from 'react-router-dom';\r\nimport {\r\n  Upload,\r\n  Bell,\r\n  BarChart2,\r\n  MessageSquare,\r\n  MoreVertical,\r\n  FileText,\r\n  FileSpreadsheet,\r\n  File,\r\n  FileType,\r\n  Image,\r\n  LogOut,\r\n  Trash2,\r\n  Download\r\n} from \"lucide-react\";\r\nimport \"./AdminDashboard.css\";\r\nimport { useAuth } from '../AuthContext';\r\nimport { db } from '../firebase-config'; // Make sure this import points to your Firebase config\r\nimport { \r\n  collection, \r\n  doc, \r\n  setDoc, \r\n  getDoc, \r\n  getDocs, \r\n  query, \r\n  orderBy, \r\n  limit,\r\n  serverTimestamp \r\n} from 'firebase/firestore';\r\n\r\nexport default function AdminDashboard() {\r\n  // State management\r\n  const [activeTab, setActiveTab] = useState(\"Upload\");\r\n  const [announcement, setAnnouncement] = useState(\"\");\r\n  const [files, setFiles] = useState([]);\r\n  const [uploading, setUploading] = useState(false);\r\n  const [uploadError, setUploadError] = useState(null);\r\n  const [selectedRole, setSelectedRole] = useState(\"Students\");\r\n  const [sessionData, setSessionData] = useState(null);\r\n  const [lastActivity, setLastActivity] = useState(new Date());\r\n  \r\n  // Refs\r\n  const fileInputRef = useRef(null);\r\n  const sessionTimeoutRef = useRef(null);\r\n  \r\n  // Hooks\r\n  const navigate = useNavigate();\r\n  const { user, logout } = useAuth();\r\n\r\n  // Constants\r\n  const SESSION_TIMEOUT = 30 * 60 * 1000; // 30 minutes\r\n  const MAX_FILES_HISTORY = 8;\r\n\r\n  const tabs = [\r\n    { name: \"Upload\", icon: Upload },\r\n    { name: \"Announcements\", icon: Bell },\r\n    { name: \"Stats\", icon: BarChart2 },\r\n    { name: \"Chatbot\", icon: MessageSquare },\r\n  ];\r\n\r\n  // Session Management Functions\r\n  const updateLastActivity = () => {\r\n    setLastActivity(new Date());\r\n    if (sessionTimeoutRef.current) {\r\n      clearTimeout(sessionTimeoutRef.current);\r\n    }\r\n    sessionTimeoutRef.current = setTimeout(handleSessionTimeout, SESSION_TIMEOUT);\r\n  };\r\n\r\n  const handleSessionTimeout = async () => {\r\n    await handleLogout();\r\n    navigate('/login', { state: { message: 'Session expired. Please login again.' } });\r\n  };\r\n\r\n  const initializeSession = async () => {\r\n    if (!user?.uid) return;\r\n\r\n    try {\r\n      const sessionRef = doc(db, 'sessions', user.uid);\r\n      const sessionDoc = await getDoc(sessionRef);\r\n      \r\n      let currentSession = {\r\n        userId: user.uid,\r\n        role: user.role,\r\n        lastActivity: serverTimestamp(),\r\n        loginTime: serverTimestamp(),\r\n      };\r\n\r\n      if (sessionDoc.exists()) {\r\n        currentSession = {\r\n          ...sessionDoc.data(),\r\n          lastActivity: serverTimestamp(),\r\n        };\r\n      }\r\n\r\n      await setDoc(sessionRef, currentSession, { merge: true });\r\n      setSessionData(currentSession);\r\n      await loadUserFiles();\r\n    } catch (error) {\r\n      console.error('Error initializing session:', error);\r\n      setUploadError('Failed to initialize session');\r\n    }\r\n  };\r\n\r\n  const updateSession = async () => {\r\n    if (!user?.uid) return;\r\n\r\n    try {\r\n      const sessionRef = doc(db, 'sessions', user.uid);\r\n      await setDoc(sessionRef, {\r\n        lastActivity: serverTimestamp(),\r\n      }, { merge: true });\r\n    } catch (error) {\r\n      console.error('Error updating session:', error);\r\n    }\r\n  };\r\n\r\n  // File Management Functions\r\n  const loadUserFiles = async () => {\r\n    if (!user?.uid) return;\r\n\r\n    try {\r\n      const filesRef = collection(db, 'users', user.uid, 'files');\r\n      const q = query(filesRef, orderBy('uploadedAt', 'desc'), limit(MAX_FILES_HISTORY));\r\n      const querySnapshot = await getDocs(q);\r\n      \r\n      const loadedFiles = [];\r\n      querySnapshot.forEach((doc) => {\r\n        loadedFiles.push({ id: doc.id, ...doc.data() });\r\n      });\r\n      \r\n      setFiles(loadedFiles);\r\n    } catch (error) {\r\n      console.error('Error loading files:', error);\r\n      setUploadError('Failed to load files');\r\n    }\r\n  };\r\n\r\n  const storeFileUpload = async (fileInfo) => {\r\n    if (!user?.uid) return;\r\n\r\n    try {\r\n      const filesRef = collection(db, 'users', user.uid, 'files');\r\n      const newFileRef = doc(filesRef);\r\n      await setDoc(newFileRef, {\r\n        ...fileInfo,\r\n        uploadedAt: serverTimestamp(),\r\n        userId: user.uid,\r\n      });\r\n    } catch (error) {\r\n      console.error('Error storing file upload:', error);\r\n      throw error;\r\n    }\r\n  };\r\n\r\n  const handleFileUpload = async (e) => {\r\n    const selectedFiles = Array.from(e.target.files);\r\n    setUploading(true);\r\n    setUploadError(null);\r\n    \r\n    const formData = new FormData();\r\n    selectedFiles.forEach((file) => {\r\n      formData.append(\"files\", file);\r\n    });\r\n    formData.append(\"role\", selectedRole.toLowerCase());\r\n    formData.append('isAnnouncement', 'false');\r\n\r\n    try {\r\n      const response = await axios.post(\r\n        \"http://localhost:8000/upload/\",\r\n        formData,\r\n        {\r\n          headers: {\r\n            \"Content-Type\": \"multipart/form-data\",\r\n          },\r\n        }\r\n      );\r\n\r\n      const newFiles = selectedFiles.map((file) => ({\r\n        name: file.name,\r\n        size: (file.size / 1024 / 1024).toFixed(2) + \" MB\",\r\n        uploaded: new Date().toLocaleDateString(),\r\n        icon: getFileIcon(file.name),\r\n        role: selectedRole,\r\n        isAnnouncement: false,\r\n      }));\r\n\r\n      // Store each file upload\r\n      for (const fileInfo of newFiles) {\r\n        await storeFileUpload(fileInfo);\r\n      }\r\n\r\n      await loadUserFiles(); // Reload files to get the latest\r\n      updateLastActivity();\r\n      await updateSession();\r\n      \r\n      console.log(\"Files uploaded successfully:\", response.data);\r\n    } catch (error) {\r\n      console.error(\"Error uploading file:\", error);\r\n      setUploadError(\"Failed to upload files. Please try again.\");\r\n    } finally {\r\n      setUploading(false);\r\n    }\r\n  };\r\n\r\n  const handleAnnouncementSubmit = async (e) => {\r\n    e.preventDefault();\r\n    if (!announcement.trim()) {\r\n      setUploadError(\"Please enter an announcement.\");\r\n      return;\r\n    }\r\n\r\n    setUploading(true);\r\n    setUploadError(null);\r\n\r\n    try {\r\n      const formData = new FormData();\r\n      const announcementBlob = new Blob([announcement], { type: 'text/plain' });\r\n      const textFile = new File([announcementBlob], 'announcement.txt', { type: 'text/plain' });\r\n      formData.append('files', textFile);\r\n      formData.append('role', selectedRole.toLowerCase());\r\n      formData.append('isAnnouncement', 'true');\r\n\r\n      const response = await axios.post(\r\n        \"http://localhost:8000/upload/\",\r\n        formData,\r\n        {\r\n          headers: {\r\n            \"Content-Type\": \"multipart/form-data\",\r\n          },\r\n        }\r\n      );\r\n\r\n      const newFile = {\r\n        name: 'announcement.txt',\r\n        size: (announcement.length / 1024).toFixed(2) + \" KB\",\r\n        uploaded: new Date().toLocaleDateString(),\r\n        icon: FileText,\r\n        role: selectedRole,\r\n        isAnnouncement: true,\r\n        content: announcement,\r\n      };\r\n\r\n      await storeFileUpload(newFile);\r\n      await loadUserFiles();\r\n      updateLastActivity();\r\n      await updateSession();\r\n      \r\n      setAnnouncement(\"\");\r\n      console.log(\"Announcement submitted successfully:\", response.data);\r\n    } catch (error) {\r\n      console.error(\"Error uploading announcement:\", error);\r\n      setUploadError(\"Failed to upload announcement. Please try again.\");\r\n    } finally {\r\n      setUploading(false);\r\n    }\r\n  };\r\n\r\n  const handleDeleteFile = async (fileId) => {\r\n    try {\r\n      await db.collection('users').doc(user.uid).collection('files').doc(fileId).delete();\r\n      await loadUserFiles();\r\n      updateLastActivity();\r\n      await updateSession();\r\n    } catch (error) {\r\n      console.error('Error deleting file:', error);\r\n      setUploadError('Failed to delete file');\r\n    }\r\n  };\r\n\r\n  const handleLogout = async () => {\r\n    try {\r\n      if (user?.uid) {\r\n        const sessionRef = doc(db, 'sessions', user.uid);\r\n        await setDoc(sessionRef, {\r\n          logoutTime: serverTimestamp(),\r\n          active: false,\r\n        }, { merge: true });\r\n      }\r\n\r\n      if (sessionTimeoutRef.current) {\r\n        clearTimeout(sessionTimeoutRef.current);\r\n      }\r\n\r\n      await logout();\r\n      navigate('/login', { replace: true });\r\n    } catch (error) {\r\n      console.error(\"Logout failed:\", error);\r\n      setUploadError(\"Logout failed. Please try again.\");\r\n    }\r\n  };\r\n\r\n  const getFileIcon = (fileName) => {\r\n    const ext = fileName.split('.').pop().toLowerCase();\r\n    switch (ext) {\r\n      case 'pdf':\r\n        return FileText;\r\n      case 'csv':\r\n      case 'xlsx':\r\n        return FileSpreadsheet;\r\n      case 'txt':\r\n        return FileText;\r\n      case 'docx':\r\n        return FileType;\r\n      case 'jpeg':\r\n      case 'jpg':\r\n      case 'png':\r\n        return Image;\r\n      default:\r\n        return File;\r\n    }\r\n  };\r\n\r\n  // Effect Hooks\r\n  useEffect(() => {\r\n    if (!user || user?.role !== 'admin') {\r\n      navigate('/login');\r\n    } else {\r\n      initializeSession();\r\n      updateLastActivity();\r\n    }\r\n\r\n    return () => {\r\n      if (sessionTimeoutRef.current) {\r\n        clearTimeout(sessionTimeoutRef.current);\r\n      }\r\n    };\r\n  }, [user, navigate]);\r\n\r\n  useEffect(() => {\r\n    const handleActivity = () => {\r\n      updateLastActivity();\r\n      updateSession();\r\n    };\r\n\r\n    window.addEventListener('mousemove', handleActivity);\r\n    window.addEventListener('keydown', handleActivity);\r\n\r\n    return () => {\r\n      window.removeEventListener('mousemove', handleActivity);\r\n      window.removeEventListener('keydown', handleActivity);\r\n    };\r\n  }, []);\r\n\r\n  // UI Render\r\n  return (\r\n    <div className=\"app-container\">\r\n      <nav>\r\n        <div className=\"nav-content\">\r\n          <div className=\"nav-top\">\r\n            <h1>Nexus Control</h1>\r\n            <ul>\r\n              {tabs.map((tab) => (\r\n                <li key={tab.name}>\r\n                  <button\r\n                    className={activeTab === tab.name ? \"active\" : \"\"}\r\n                    onClick={() => setActiveTab(tab.name)}\r\n                  >\r\n                    <tab.icon />\r\n                    {tab.name}\r\n                  </button>\r\n                </li>\r\n              ))}\r\n            </ul>\r\n          </div>\r\n          <div className=\"session-info\">\r\n            <p>Last activity: {lastActivity.toLocaleTimeString()}</p>\r\n            <button \r\n              className=\"logout-button\" \r\n              onClick={handleLogout}\r\n              disabled={uploading}\r\n            >\r\n              <LogOut />\r\n              Logout\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </nav>\r\n\r\n      <main className=\"main-layout\">\r\n        {(activeTab === \"Upload\" || activeTab === \"Announcements\") && (\r\n          <div className=\"dropdown-container\">\r\n            <select\r\n              id=\"userType\"\r\n              value={selectedRole}\r\n              onChange={(e) => setSelectedRole(e.target.value)}\r\n              className=\"user-type-dropdown\"\r\n            >\r\n              <option value=\"Students\">Students</option>\r\n              <option value=\"Teachers\">Teachers</option>\r\n              <option value=\"HOD/Dean\">HOD/Dean</option>\r\n            </select>\r\n          </div>\r\n        )}\r\n        \r\n        <div className=\"content-area\">\r\n          {activeTab === \"Upload\" && (\r\n            <div className=\"upload-section\">\r\n              <h2>Data Upload Interface</h2>\r\n              <div className=\"card\">\r\n                <div className=\"upload-area\">\r\n                  <p>Initiate data transfer or select files for upload.</p>\r\n                  <p className=\"file-types\">Supported file types: PDF, CSV, TXT, DOCX, XLSX, JPEG, JPG, PNG</p>\r\n                  <button onClick={() => fileInputRef.current.click()} disabled={uploading}>\r\n                    {uploading ? \"Uploading...\" : \"Upload Files\"}\r\n                  </button>\r\n                  <input\r\n                    type=\"file\"\r\n                    ref={fileInputRef}\r\n                    className=\"hidden\"\r\n                    onChange={handleFileUpload}\r\n                    multiple\r\n                    accept=\".pdf,.csv,.txt,.docx,.xlsx,.jpeg,.jpg,.png\"\r\n                  />\r\n                </div>\r\n                {uploadError && (\r\n                  <p className=\"error-message\">{uploadError}</p>\r\n                )}\r\n              </div>\r\n              <div className=\"card\">\r\n                <table>\r\n                  <thead>\r\n                    <tr>\r\n                      <th>File</th>\r\n                      <th>Size</th>\r\n                      <th>Uploaded</th>\r\n                      <th>Role</th>\r\n                      <th>Actions</th>\r\n                    </tr>\r\n                  </thead>\r\n                  <tbody>\r\n                    {files.map((file) => (\r\n                      <tr key={file.id}>\r\n                        <td>\r\n                          <div className=\"file-info\">\r\n                            <div className=\"file-icon\">\r\n                              {file.icon && <file.icon />}\r\n                            </div>\r\n                            <span>{file.name}</span>\r\n                          </div>\r\n                        </td>\r\n                        <td>{file.size}</td>\r\n                        <td>{file.uploaded}</td>\r\n                        <td>{file.role}</td>\r\n                        <td>\r\n                          <div className=\"action-buttons\">\r\n                            <button\r\n                              className=\"action-button\"\r\n                              onClick={() => handleDeleteFile(file.id)}\r\n                              title=\"Delete\"\r\n                            >\r\n                              <Trash2 size={16} />\r\n                            </button>\r\n                            <button\r\n                              className=\"action-button\"\r\n                              title=\"Download\"\r\n                            >\r\n                              <Download size={16} />\r\n                            </button>\r\n                          </div>\r\n                        </td>\r\n                      </tr>\r\n                    ))}\r\n                  </tbody>\r\n                </table>\r\n              </div>\r\n            </div>\r\n          )}\r\n          \r\n          {activeTab === \"Announcements\" && (\r\n            <div className=\"announcements-section\">\r\n              <h2>Broadcast Announcements</h2>\r\n              <div className=\"card\">\r\n                <form onSubmit={handleAnnouncementSubmit}>\r\n                  <textarea\r\n                    value={announcement}\r\n                    onChange={(e) => setAnnouncement(e.target.value)}\r\n                    placeholder=\"Type your announcement here...\"\r\n                    className=\"announcement-textarea\"\r\n                  />\r\n                  <button \r\n                    type=\"submit\" \r\n                    className=\"submit-announcement-button\"\r\n                    disabled={uploading}\r\n                  >\r\n                    {uploading ? \"Submitting...\" : \"Submit Announcement\"}\r\n                  </button>\r\n                  </form>\r\n                {uploadError && (\r\n                  <p className=\"error-message\">{uploadError}</p>\r\n                )}\r\n              </div>\r\n            </div>\r\n          )}\r\n\r\n          {activeTab === \"Stats\" && (\r\n            <div className=\"stats-section\">\r\n              <h2>Analytics Dashboard</h2>\r\n              <div className=\"stats-grid\">\r\n                <div className=\"card\">\r\n                  <h3>File Statistics</h3>\r\n                  <div className=\"stat-item\">\r\n                    <p>Total Files Uploaded</p>\r\n                    <h4>{files.length}</h4>\r\n                  </div>\r\n                  <div className=\"stat-item\">\r\n                    <p>Storage Used</p>\r\n                    <h4>\r\n                      {(files.reduce((acc, file) => {\r\n                        return acc + parseFloat(file.size);\r\n                      }, 0)).toFixed(2)} MB\r\n                    </h4>\r\n                  </div>\r\n                </div>\r\n\r\n                <div className=\"card\">\r\n                  <h3>User Activity</h3>\r\n                  <div className=\"stat-item\">\r\n                    <p>Last Login</p>\r\n                    <h4>{sessionData?.loginTime?.toDate().toLocaleDateString()}</h4>\r\n                  </div>\r\n                  <div className=\"stat-item\">\r\n                    <p>Active Session Duration</p>\r\n                    <h4>\r\n                      {sessionData?.loginTime ? \r\n                        Math.floor((new Date() - sessionData.loginTime.toDate()) / (1000 * 60)) + \" minutes\"\r\n                        : \"N/A\"}\r\n                    </h4>\r\n                  </div>\r\n                </div>\r\n\r\n                <div className=\"card\">\r\n                  <h3>Distribution by Role</h3>\r\n                  <div className=\"role-distribution\">\r\n                    {[\"Students\", \"Teachers\", \"HOD/Dean\"].map(role => (\r\n                      <div key={role} className=\"stat-item\">\r\n                        <p>{role}</p>\r\n                        <h4>\r\n                          {files.filter(file => file.role === role).length}\r\n                        </h4>\r\n                      </div>\r\n                    ))}\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          )}\r\n\r\n          {activeTab === \"Chatbot\" && (\r\n            <div className=\"chatbot-section\">\r\n              <h2>AI Assistant Configuration</h2>\r\n              <div className=\"card\">\r\n                <p>Chatbot configuration and analytics will be implemented in future updates.</p>\r\n              </div>\r\n            </div>\r\n          )}\r\n        </div>\r\n      </main>\r\n    </div>\r\n  );\r\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}